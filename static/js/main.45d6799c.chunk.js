(this.webpackJsonppixelart=this.webpackJsonppixelart||[]).push([[0],{62:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(8),c=n.n(r),a=n(5);var s=function(e){return Object(a.jsxs)("div",{className:"colorSelector",children:["Select color:",Object(a.jsx)("input",{type:"color",className:"colorSelect",value:e.color,onChange:function(t){return e.setColor(t.target.value)}})]})};var i=function(e){return Object(a.jsxs)("form",{className:"sizeContainer",children:[Object(a.jsx)("input",{type:"range",className:"inputSide",name:"Grid Size",min:"10",max:"50",value:e.value,onChange:function(t){return e.onChange(t.target.value)}}),Object(a.jsxs)("span",{children:["Grid Size: ",Object(a.jsxs)("span",{id:"gridSizeText",children:[e.value," x ",e.value]})]})]})},o=n(0),u=n.n(o),l=n(42),j=n(1),b=n(13),d=n(43),O=n.n(d),h=n(47),x=(n(55),n(67),h.a.initializeApp({apiKey:"AIzaSyD8RtQCoEDaLThEE698alIMbKk_YPhgxCQ",authDomain:"pixel-share.firebaseapp.com",projectId:"pixel-share",storageBucket:"pixel-share.appspot.com",messagingSenderId:"798483548195",appId:"1:798483548195:web:0c040fa0b39daaa1630996"})),m=x.auth(),g=x.firestore(),p=c.a.createContext();function f(e){var t=Object(r.useState)(),n=Object(b.a)(t,2),c=n[0],s=n[1];return Object(r.useEffect)((function(){return m.onAuthStateChanged((function(e){s(e)}))}),[]),Object(a.jsx)(p.Provider,{value:{currentUser:c,signUp:function(e,t){return m.createUserWithEmailAndPassword(e,t)},logIn:function(e,t){return m.signInWithEmailAndPassword(e,t)},logOut:function(){return m.signOut()}},children:e.children})}var v=c.a.createContext();function C(e){var t=Object(r.useContext)(p),n=g.collection("pixelImg"),c=Object(r.useState)(20),s=Object(b.a)(c,2),i=s[0],o=s[1],d=Object(r.useState)("#000000"),h=Object(b.a)(d,2),x=h[0],m=h[1],f=Object(r.useState)(!1),C=Object(b.a)(f,2),N=C[0],y=C[1],w=Object(r.useState)("#FFFFFF"),D=Object(b.a)(w,2),k=D[0],S=D[1],I=Object(r.useState)(!0),F=Object(b.a)(I,2),B=F[0],L=F[1],U=Object(r.useState)(!1),T=Object(b.a)(U,2),q=T[0],E=T[1],M=Object(r.useState)(""),P=Object(b.a)(M,2),G=P[0],A=P[1],R=Object(r.useState)([]),V=Object(b.a)(R,2),z=V[0],H=V[1],Y=Object(r.useState)([]),J=Object(b.a)(Y,2),K=J[0],Q=J[1];function W(){document.querySelector(".grid").querySelectorAll("div").forEach((function(e){return e.style.backgroundColor=null})),S("#FFFFFF"),o(20),L(!0),A("")}function X(){return(X=Object(j.a)(u.a.mark((function e(r){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,O()(document.querySelector("#capture")).then((function(e){var r=e.toDataURL("image/png"),c=Math.floor(Date.now()/1e3),a=t.currentUser.email,s=t.currentUser.uid,i=new Date,o=i.getDate(),u=i.getMonth()+1,l=i.getFullYear(),j={name:""===G?"untitled":G,timestamp:c,imgData:r,email:a,uid:s,createdAt:"".concat(o,"/").concat(u,"/").concat(l)};n.add(j)}));case 3:W();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(){return(_=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.doc(t).delete();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){return t.currentUser?n.orderBy("timestamp","desc").onSnapshot((function(e){Q(e.docs.map((function(e){return Object(l.a)(Object(l.a)({},e.data()),{},{id:e.id})})))})):null}),[t.currentUser]),Object(a.jsx)(v.Provider,{value:{sideValue:i,onSliderChange:function(e){o(e)},color:x,selectColor:function(e){m(e)},squareMouseDown:function(e){e.target.style.backgroundColor=q?null:x},stopDraw:function(){y(!1)},startDraw:function(){y(!0)},dragDraw:function(e){N&&"square"===e.target.className&&(e.target.style.backgroundColor=q?null:x)},bkGroundColor:k,colorFill:function(){S(x)},displayLines:B,toggleLineDisplay:function(){L((function(e){return!e}))},refreshGrid:W,toggleErase:function(){E((function(e){return!e}))},erase:q,SaveImage:function(e){e.preventDefault(),O()(document.querySelector("#capture")).then((function(e){var t=e.toDataURL("image/png"),n={name:""===G?"untitled":G,imgData:t};H((function(e){return e.concat(n)})),W()}))},imageNameHandler:function(e){A(e)},imageName:G,imageContainer:z,touchDragDraw:function(e){if(N&&"square"===e.touches[0].target.className){var t=e.touches[0].clientX,n=e.touches[0].clientY,r=document.elementFromPoint(t,n);"square"===r.className?r.style.backgroundColor=q?null:x:y(!1)}},PostToCloud:function(e){return X.apply(this,arguments)},userContent:K,deleteContent:function(e){return _.apply(this,arguments)}},children:e.children})}var N=function(e){return Object(a.jsx)("div",{className:"colorFill",children:Object(a.jsx)("button",{className:"fillColorBtn",id:"colorGrid",onClick:function(){return e.toggleFillColor()},children:"Change Background Color"})})};var y=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"lineButton",id:"gridLines",onClick:function(){return e.toggleLine()},children:"Toggle Grid Lines"})})};var w=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"refresh",onClick:function(){e.refresh()},children:"Refresh Grid"})})};var D=function(e){return Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"eraseBtn",onClick:function(){return e.onToggle()},style:{backgroundColor:e.eraser?"black":"rgb(233, 233, 233)",color:e.eraser?"white":"black"},children:"Toggle Eraser"})})};var k=function(){var e=Object(r.useContext)(v);return Object(a.jsxs)("div",{className:"columnDetails",children:[Object(a.jsx)(i,{value:e.sideValue,onChange:e.onSliderChange}),Object(a.jsx)(s,{color:e.color,setColor:e.selectColor}),Object(a.jsxs)("div",{className:"allButtons",children:[Object(a.jsx)(D,{onToggle:e.toggleErase,eraser:e.erase}),Object(a.jsx)(N,{toggleFillColor:e.colorFill}),Object(a.jsx)(y,{toggleLine:e.toggleLineDisplay}),Object(a.jsx)(w,{refresh:e.refreshGrid})]})]})};var S=function(){return Object(a.jsx)("h2",{className:"title",children:"Pixel Draw"})};var I=function(e){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("div",{className:"square",style:{border:e.displayLines?"solid 1px black":"none"},onMouseDown:function(t){e.squareMouseDown(t)},onTouchStart:function(t){e.squareMouseDown(t)}},e.id)})};var F=function(){for(var e=Object(r.useContext)(v),t=[],n=0;n<Math.pow(e.sideValue,2);n++)t.push(n);var c=t.map((function(t){return Object(a.jsx)(I,{id:t,gridSide:e.sideValue,displayLines:e.displayLines,squareMouseDown:e.squareMouseDown},t)}));return Object(a.jsx)("div",{className:"columnGrid",id:"capture",children:Object(a.jsx)("div",{className:"grid",style:{gridTemplateColumns:"repeat(".concat(e.sideValue,", 1fr)"),gridTemplateRows:"repeat(".concat(e.sideValue,", 1fr)"),backgroundColor:"".concat(e.bkGroundColor)},onMouseDown:function(){return e.startDraw()},onMouseUp:function(){return e.stopDraw()},onMouseLeave:function(){return e.stopDraw()},onMouseOver:function(t){return e.dragDraw(t)},onTouchStart:function(){return e.startDraw()},onTouchMove:function(t){return e.touchDragDraw(t)},onTouchEnd:function(){return e.stopDraw()},onTouchCancel:function(){return e.stopDraw()},children:c})})};var B=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{htmlFor:"imgName",children:"Image Name:"}),Object(a.jsx)("input",{type:"text",id:"imgName",value:e.imgName,onChange:function(t){return e.imgNameHandler(t.target.value)}})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{className:"saveButton",onClick:function(t){return e.saveImg(t)},children:"Save Locally"}),Object(a.jsx)("button",{className:"postButton",onClick:function(t){return e.postImg(t)},children:"Post to Gallery"})]})]})};var L=function(){var e=Object(r.useContext)(v);return Object(a.jsx)("div",{className:"footerArea",children:Object(a.jsx)(B,{saveImg:e.SaveImage,imgName:e.imageName,imgNameHandler:e.imageNameHandler,postImg:e.PostToCloud})})};var U=function(){var e=Object(r.useContext)(v).imageContainer.map((function(e){return Object(a.jsxs)("div",{className:"userImg",children:[Object(a.jsx)("img",{src:e.imgData,alt:"Trying to load content"}),Object(a.jsx)("p",{children:e.name})]})}));return Object(a.jsx)("div",{className:"imageContainer",id:"imgContainer",children:e})},T=n(17);var q=function(){return Object(a.jsx)("div",{className:"galleryBtnContainer",children:Object(a.jsx)(T.b,{to:"/usercontent",children:Object(a.jsx)("button",{className:"checkContent",children:"View Gallery"})})})};var E=function(){return Object(a.jsx)(T.b,{to:"/login",children:Object(a.jsx)("button",{className:"logInButton",children:"Log In"})})};var M=function(){return Object(a.jsx)(T.b,{to:"/signin",children:Object(a.jsx)("button",{className:"signInButton",children:"SignUp"})})},P=n(16);var G=function(){var e=Object(r.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],s=Object(r.useContext)(p),i=Object(P.g)();function o(){return(o=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(""),e.prev=1,e.next=4,s.logOut();case 4:i.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("Failed to LogOut");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{className:"logoutContainer",children:[n&&n,Object(a.jsx)("h4",{children:s.currentUser.email}),Object(a.jsx)("button",{className:"logOutBtn",onClick:function(){return function(){return o.apply(this,arguments)}()},children:"Logout"})]})},A=n.p+"static/media/landscape.ab92261d.jpg";var R=function(){var e=Object(r.useContext)(p);return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)("img",{className:"bgImg",src:A,alt:"background img loading shortly"}),Object(a.jsx)(S,{}),Object(a.jsxs)("div",{className:"titleBtnContainer",children:[Object(a.jsx)(q,{}),!e.currentUser&&Object(a.jsx)(E,{}),!e.currentUser&&Object(a.jsx)(M,{}),m.currentUser&&Object(a.jsx)(G,{})]}),Object(a.jsxs)("div",{className:"mainContainer",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)(k,{}),Object(a.jsx)(F,{})]}),Object(a.jsx)(L,{}),Object(a.jsx)(U,{})]})]})};var V=function(){return Object(a.jsx)("div",{style:{marginTop:"20px"},children:Object(a.jsx)(T.b,{to:"/",children:Object(a.jsx)("button",{className:"backBtn",children:"Back to Content Creation"})})})};var z=function(e){var t=Object(r.useContext)(p);return Object(a.jsxs)("div",{className:"userContent",children:[Object(a.jsx)("img",{src:e.imgData,alt:"Trying to load content"}),Object(a.jsx)("p",{children:"'".concat(e.name,"' by ").concat(e.email)}),Object(a.jsx)("p",{children:"Created on: ".concat(e.date)}),Object(a.jsx)("button",{className:"logOutBtn",onClick:function(){return e.deleteItem(e.identifier)},style:{display:t.currentUser.email===e.email?"block":"none"},children:"Delete"})]})};var H=function(){var e=Object(r.useContext)(v),t=e.userContent.map((function(t){return Object(a.jsx)(z,{identifier:t.id,imgData:t.imgData,name:t.name,email:t.email,date:t.createdAt,deleteItem:e.deleteContent},t.id)}));return Object(a.jsxs)("div",{className:"mainContentContainer",children:[Object(a.jsx)(V,{}),Object(a.jsx)("div",{className:"userContentContainer",children:t})]})};var Y=function(){var e=Object(r.useContext)(p);return Object(a.jsxs)(c.a.Fragment,{children:[e.currentUser?null:Object(a.jsx)(P.a,{to:"/login"}),Object(a.jsx)(H,{})]})};var J=function(){var e=Object(r.useContext)(p),t=Object(r.useRef)(),n=Object(r.useRef)(),c=Object(r.useRef)(),s=Object(r.useState)(""),i=Object(b.a)(s,2),o=i[0],l=i[1],d=Object(r.useState)(!1),O=Object(b.a)(d,2),h=O[0],x=O[1],m=Object(P.g)();function g(){return(g=Object(j.a)(u.a.mark((function r(a){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),n.current.value===c.current.value){r.next=3;break}return r.abrupt("return",l("Passwords do not match"));case 3:return r.prev=3,l(""),x(!0),r.next=8,e.signUp(t.current.value,n.current.value);case 8:m.push("/"),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),l("Failed to create account");case 14:x(!1);case 15:case"end":return r.stop()}}),r,null,[[3,11]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{children:[Object(a.jsx)(T.b,{to:"/",children:Object(a.jsx)("button",{className:"backBtn",style:{marginTop:"20px"},children:"Back"})}),Object(a.jsx)("h2",{className:"signinTitle",children:"Sign Up"}),Object(a.jsx)("h3",{children:o}),Object(a.jsxs)("form",{className:"signinForm",onSubmit:function(e){return g.apply(this,arguments)},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Email: "}),Object(a.jsx)("input",{type:"text",ref:t,required:!0})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Password: "}),Object(a.jsx)("input",{type:"text",ref:n,required:!0})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Confirm Password: "}),Object(a.jsx)("input",{type:"text",ref:c,required:!0})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{disabled:h,className:"signInFormBtn",type:"submit",children:"Sign Up"})})]}),Object(a.jsxs)("h3",{children:["Already have an account?",Object(a.jsx)(T.b,{to:"/login",children:Object(a.jsx)("button",{className:"logInFormBtn",children:"Log In"})})]})]})};var K=function(){var e=Object(r.useContext)(p),t=Object(r.useRef)(),n=Object(r.useRef)(),c=Object(r.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),d=Object(b.a)(l,2),O=d[0],h=d[1],x=Object(P.g)();function m(){return(m=Object(j.a)(u.a.mark((function r(c){return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),r.prev=1,o(""),h(!0),r.next=6,e.logIn(t.current.value,n.current.value);case 6:x.push("/"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),o("Failed to Log In");case 12:h(!1);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))).apply(this,arguments)}function g(){return(g=Object(j.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,o(""),h(!0),t.next=6,e.logIn("test@pixels.com","test12345");case 6:x.push("/"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),o("Failed to Log In");case 12:h(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Object(a.jsxs)("div",{children:[Object(a.jsx)(T.b,{to:"/",children:Object(a.jsx)("button",{className:"backBtn",style:{marginTop:"20px"},children:"Back"})}),Object(a.jsx)("h2",{className:"signinTitle",children:"Log In"}),e.currentUser&&e.currentUser.email,Object(a.jsx)("h2",{children:"Log in to view user content"}),Object(a.jsx)("button",{className:"logInButton",onClick:function(e){return g.apply(this,arguments)},children:"Use Guest Account"}),Object(a.jsx)("h3",{children:i}),Object(a.jsxs)("form",{className:"signinForm",onSubmit:function(e){return m.apply(this,arguments)},children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Email: "}),Object(a.jsx)("input",{type:"text",ref:t,required:!0})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Password: "}),Object(a.jsx)("input",{type:"text",ref:n,required:!0})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{disabled:O,className:"signInFormBtn",type:"submit",children:"Log In"})})]}),Object(a.jsxs)("h3",{children:["Don't have an account?",Object(a.jsx)(T.b,{to:"/signin",children:Object(a.jsx)("button",{className:"logInFormBtn",children:"Sign Up"})})]})]})};n(62);var Q=function(){return Object(a.jsx)(c.a.Fragment,{children:Object(a.jsxs)(P.d,{children:[Object(a.jsx)(P.b,{exact:!0,path:"/",children:Object(a.jsx)(R,{})}),Object(a.jsx)(P.b,{path:"/usercontent",children:Object(a.jsx)(Y,{})}),Object(a.jsx)(P.b,{path:"/signin",children:Object(a.jsx)(J,{})}),Object(a.jsx)(P.b,{path:"/login",children:Object(a.jsx)(K,{})})]})})},W=n(50);n.n(W).a.render(Object(a.jsx)(f,{children:Object(a.jsx)(C,{children:Object(a.jsx)(T.a,{children:Object(a.jsx)(Q,{})})})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.45d6799c.chunk.js.map